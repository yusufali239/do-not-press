<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mustaqil Ish: Usul al-Fiqh (To'liq)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #2980b9;
            --bg: #ecf0f1;
            --text: #34495e;
            --white: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
            color: var(--text);
        }

        /* ----- CHAP PANEL (MENYU) ----- */
        .sidebar {
            width: 380px;
            background: var(--white);
            border-right: 1px solid #bdc3c7;
            display: flex;
            flex-direction: column;
            padding: 20px;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.05);
        }

        .student-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #dfe6e9;
            margin-bottom: 20px;
        }

        .student-info label {
            display: block;
            font-size: 0.85em;
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--primary);
        }

        .student-info input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 0.9em;
            box-sizing: border-box; 
        }

        .chapter-block {
            margin-bottom: 15px;
        }

        .chapter-title {
            font-weight: bold;
            color: var(--primary);
            padding: 8px 0;
            border-bottom: 2px solid var(--accent);
            margin-bottom: 8px;
            font-size: 0.95em;
            text-transform: uppercase;
        }

        .topic-item {
            display: flex;
            align-items: flex-start;
            padding: 6px;
            border-radius: 4px;
            transition: background 0.2s;
            font-size: 0.9em;
        }

        .topic-item:hover {
            background-color: #f1f2f6;
        }

        .topic-item input {
            margin-top: 4px;
            margin-right: 10px;
            cursor: pointer;
        }

        .topic-item label {
            cursor: pointer;
            line-height: 1.4;
        }

        /* ----- O'NG PANEL (TAHRIRLASH) ----- */
        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            background-color: #dfe6e9;
        }

        .editor-wrapper {
            max-width: 900px;
            margin: 0 auto;
        }

        .header-section {
            text-align: center;
            margin-bottom: 30px;
        }

        .header-section h1 {
            margin: 0;
            color: var(--primary);
        }

        .info-card {
            background: var(--white);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            animation: slideIn 0.3s ease-out;
            border-left: 5px solid var(--accent);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid #ecf0f1;
            padding-bottom: 10px;
        }

        .card-title {
            font-size: 1.1em;
            font-weight: bold;
            color: var(--primary);
        }

        .btn-remove {
            background: none;
            border: none;
            color: #e74c3c;
            cursor: pointer;
            font-size: 0.9em;
            opacity: 0.7;
        }
        .btn-remove:hover { opacity: 1; }

        textarea.content-editor {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-family: 'Times New Roman', serif; /* Ilmiy uslub uchun */
            font-size: 16px;
            line-height: 1.6;
            resize: vertical;
            box-sizing: border-box;
            background-color: #fafafa;
        }

        textarea.content-editor:focus {
            outline: 2px solid var(--accent);
            background-color: #fff;
        }

        /* ----- TUGMALAR ----- */
        .fab-container {
            position: fixed;
            bottom: 30px;
            right: 40px;
            z-index: 100;
        }

        .btn-download {
            background-color: #27ae60;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-download:hover {
            transform: scale(1.05);
            background-color: #219150;
        }

        /* ----- PDF SHABLON (KO'RINMAS) ----- */
        #pdf-template {
            display: none;
            padding: 40px;
            font-family: 'Times New Roman', serif;
            color: #000;
        }

        .pdf-header {
            text-align: center;
            border-bottom: 2px solid #000;
            margin-bottom: 30px;
            padding-bottom: 10px;
        }

        .pdf-info {
            margin-bottom: 30px;
            font-size: 12pt;
        }

        .pdf-info p { margin: 5px 0; font-weight: bold; }

        .pdf-section {
            margin-bottom: 25px;
            page-break-inside: avoid;
        }

        .pdf-section h3 {
            background-color: #f0f0f0;
            padding: 5px 10px;
            font-size: 14pt;
            margin-bottom: 10px;
            border-left: 4px solid #333;
        }

        .pdf-text {
            font-size: 12pt;
            line-height: 1.5;
            text-align: justify;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>

<div class="sidebar">
    <h2 style="text-align:center; color: var(--primary);">Mavzular Rejasi</h2>
    
    <div class="student-info">
        <label>F.I.SH (To'liq):</label>
        <input type="text" id="inpName" placeholder="Abdullayev Behzod">
        <label>Kurs va Guruh:</label>
        <input type="text" id="inpCourse" placeholder="4-A guruhi">
    </div>

    <div id="topicsMenu">
        </div>
</div>

<div class="main-content">
    <div class="editor-wrapper">
        <div class="header-section">
            <h1>Mustaqil Ish Platformasi</h1>
            <p>Mavzularni tanlang, ma'lumotlarni tahrirlang va PDF yuklab oling.</p>
        </div>

        <div id="cards-container">
            </div>
    </div>

    <div class="fab-container">
        <button class="btn-download" onclick="generatePDF()">
            <span>ðŸ“¥ PDF YUKLAB OLISH</span>
        </button>
    </div>
</div>

<div id="pdf-template">
    <div class="pdf-header">
        <h1>MUSTAQIL ISH</h1>
        <h3>Fan: Usul al-Fiqh / Hadisshunoslik</h3>
    </div>
    
    <div class="pdf-info">
        <p>Talaba: <span id="pdf-student-name"></span></p>
        <p>Guruh: <span id="pdf-student-course"></span></p>
        <p>Sana: <span id="pdf-date"></span></p>
    </div>

    <div id="pdf-body">
        </div>
    
    <div style="margin-top: 50px; text-align: right;">
        <p>Imzo: _______________</p>
    </div>
</div>

<script>
    // ======================================================
    // MA'LUMOTLAR BAZASI (MANBADAN TO'LIQ OLINDI)
    // ======================================================
    const db = [
        {
            chapter: "1-BOB: Xabarlarning bo'linishi",
            topics: [
                {
                    id: "1_1",
                    title: "Hanafiylarning taqsimoti (3 qism)",
                    text: `Bizning hanafiy imomlarimiz Rasululloh (s.a.v)ga bog'lanish (ittisol) jihatidan xabarlarni uch qismga bo'lishgan:

1. Mutavotir xabar: Surat jihatidan ham, ma'no jihatidan ham mutlaqo shubhasiz, to'liq bog'lanishga ega bo'lgan xabar. Unda hech qanday shubha yo'q.

2. Mashhur xabar: Surat jihatidan shubha bor, chunki u sahobalar davrida ahod bo'lgan. Ammo ma'no jihatidan shubha yo'q, chunki u ikkinchi va uchinchi asrlarda (tobi'inlar va tobi'ut-tobi'inlar davrida) mutavotir bo'lib, ummat tomonidan qabul qilingan.

3. Ahod xabar (Xabarul-vohid): Surat jihatidan ham, ma'no jihatidan ham shubha bor. Chunki u birinchi asrda ahod bo'lgan, keyin ham mutavotir bo'lmagan va tobi'inlar hamda ularning izdoshlari davrida qabul qilinmagan.`
                },
                {
                    id: "1_2",
                    title: "Muhaddislarning taqsimoti va Solishtirish",
                    text: `Muhaddislarning aksariyatiga koÊ»ra xabarlar ikki qismga bo'linadi:
1. Mutavotir xabar.
2. Xabarul-vohid (Bu o'z navbatida Mashhur, Aziz, G'aribga bo'linadi).

Ikki istilohni solishtirish:
Har bir guruh o'z faniga mos bo'lgan yo'lni tanlagan:
- Muhaddislarning maqsadi isnod, shuning uchun ular roviylar soniga qarab bo'lishgan.
- Faqihlarning maqsadi esa matn va unga amal qilish, shuning uchun ular o'z mavzulariga foydali bo'lgan jihatdan bo'lishgan.

Ibn Humom aytadi: "Hanafiylarda xabar mutavotir, mashhur va ahoddir."`
                },
                {
                    id: "1_3",
                    title: "To'liq bog'lanishning yana bir turi",
                    text: `Eslatma: To'liq bog'lanishning yana bir turi mavjud - bu gapiruvchidan bevosita og'zaki eshitishdir. 
Bu mutavotirdan ham kuchliroq, chunki gapni eshitish va gapiruvchini ko'rish tushunishga yanada yaqinroqdir.`
                }
            ]
        },
        {
            chapter: "2-BOB: Mutavotir xabar",
            topics: [
                {
                    id: "2_1",
                    title: "Mutavotir ta'rifi va Hukmi",
                    text: `Ta'rifi: 
Lug'atda: "Tavotur" narsalarning ketma-ket kelishi.
Istilohda (Ibn as-Sa'atiy): "O'z-o'zidan ilmni hosil qiladigan jamoa xabari."

Hukmi:
Ko'pchilik ulamolar orasida mutavotir xabar zaruriy (majburiy) ilm beradi, degan masalada ixtilof yo'q. Uni inkor qilgan kishi kofir bo'ladi.
QozÄ± Iso ibn Aban aytadi: "Kim ularni rad etsa, Rasulullohni rad etgandek bo'ladi. Shu sababli u kofir bo'ladi."

Son masalasi: Hanafiylar nazarida mutavotir uchun aniq son (masalan, 10, 40, 70) shart emas. Mezon - ilm va ishonch hosil bo'lishidir.`
                },
                {
                    id: "2_2",
                    title: "Mutavotir shartlari (3 ta)",
                    text: `Hanafiy muhaqqiqlarga koÊ»ra mutavotir bo'lishi uchun uchta shart bor:

1-shart: Xabar beruvchilarning soni shunchalik ko'p bo'lishi kerakki, odatda aql ularning ataylab yolg'on ustida kelishib olishlarini imkonsiz deb bilsin.

2-shart: Bu ko'plik isnodning barcha tabaqalarida mavjud bo'lishi kerak. Hanafiylar nazarida mutavotirlik uch asr (sahobalar, tobi'inlar, tobi'ut-tobi'inlar) bilan bog'liq.

3-shart: Xabar his-tuyg'uga (sezgiga) asoslangan bo'lishi kerak, aqlga emas.
Masalan: Bag'dod ahli "dunyo yaratilgandir" desa, bu mutavotir bo'lmaydi, chunki bu aqliy masala. Ammo "La ilaha illalloh degan jannatga kiradi" hadisining aytilgani hissiy (eshitilgan), mazmuni esa aqliydir.`
                }
            ]
        },
        {
            chapter: "3-BOB: Mashhur xabar",
            topics: [
                {
                    id: "3_1",
                    title: "Mashhur ta'rifi va 'Uch Asr' masalasi",
                    text: `Ta'rifi: Mashhur xabar - bu birinchi asrda ahod bo'lgan, so'ngra ikkinchi va uchinchi asrlarda (tobi'in va tobi'ut-tobi'in davrida) mutavotir bo'lgan xabardir.

Muhim qoida: Hanafiylar bir ovozdan aytishganki, uch asrdan keyin yuzaga kelgan mashhurlik yoki mutavotirlik e'tiborga olinmaydi.

Asr (Qarn) chegaralari:
- Birinchi asr (Sahobalar): 110-hijriy yilgacha (Abu Tufayl vafoti).
- Ikkinchi asr (Tobi'inlar): 180-hijriy yilgacha.
- Uchinchi asr (Tobi'ut-tobi'inlar): 220-hijriy yilgacha.`
                },
                {
                    id: "3_2",
                    title: "Mashhur xabarning hukmi",
                    text: `Hanafiylar huzurida eng kuchli qarash:
Mashhur xabar mutavotir ham emas, mutavotir hukmida ham emas. U mutavotirdan past, xabarul-vohiddan yuqori darajadir.

U "xotirjamlik (tuma'nina)" hosil qiladigan ilmni beradi (yakin ehtimolli gumon).
Uni inkor qilgan kishi kofir bo'lmaydi, balki adashgan (zall) hisoblanadi.
Sababi: Birinchi asrda roviylar soni kam bo'lgani uchun xato ehtimoli to'liq yo'qolmagan.`
                }
            ]
        },
        {
            chapter: "4-BOB: Ahod xabarlar",
            topics: [
                {
                    id: "4_1",
                    title: "Ahod xabar ta'rifi va Hukmi",
                    text: `Ta'rifi: Xabarul-vohid mashhurlik va mutavotir darajasiga yetmagan har qanday xabardir. U bitta, ikkita yoki undan ko'p kishi rivoyat qilgan bo'lishidan qat'i nazar.

Hukmi: Ahod xabar ilm bermaydi (ya'ni e'tiqodiy masalalarda hujjat emas), ammo "Amal qilishni vojib qiladi".
Imom Saraxsiy aytadi: "Bizning mazhabimizda xabarul-vohid amalni vojib qiladi, lekin qat'iy ilmni vojib qilmaydi."
U bilan amal qilish uchun u "mansux" (bekor qilingan) bo'lmasligi kerak.`
                },
                {
                    id: "4_2",
                    title: "Hudud (Jazolar) va Ahod xabar",
                    text: `Ahod xabar bilan hudud (shariy jazo) sobit bo'ladimi?

1-qarash (Imom Abu Yusuf va ko'pchilik): Hudud xabarul-vohid bilan isbotlanadi. Chunki hudud ham amaliy hukmdir.
2-qarash (Imom Karkhiy): Isbotlanmaydi. Dalil: "Hududlarni shubhalar bilan daf eting" hadisi. Ahod xabarda shubha bor.

Rojih (Kuchli) qarash: Birinchi qarash to'g'ri. Chunki hadisdagi "shubha" dalildagi shubha emas, balki voqeadagi shubhadir. Agar dalildagi shubha bo'lsa, guvohlik bilan ham hudud sobit bo'lmasdi.

Imom Abu Hanifa fikri: U zotdan aniq matn yo'q, lekin Imom Muhammadning rivoyatiga ko'ra, Abu Hanifa mursal va ahod hadis bilan hududni (masalan, zimmiyni o'ldirgan musulmonni qatl qilishni) sobit qilgan.`
                }
            ]
        },
        {
            chapter: "ROVIYLAR SHARTLARI: 1. AQL",
            topics: [
                {
                    id: "5_1",
                    title: "Aql va Balog'at",
                    text: `Hadis rivoyatida talab qilinadigan aql - bu to'liq aql (balog'at). Yosh bolaning rivoyati hujjat bo'lmaydi.

Balog'at: Bu "Ado etish" (rivoyatni birovga yetkazish) shartidir, "Tahammul" (eshitib olish) sharti emas.
Ya'ni: Agar bola 5-6 yoshida eshitib, balog'atga yetganda aytsa, qabul qilinadi.
Misollar: Ibn Abbos, Abdulloh ibn Zubayr, Nu'mon ibn Bashir (r.a)lar kichikliklarida eshitgan hadislarini katta bo'lgach rivoyat qilganlar va ummat qabul qilgan.

Tahammul yoshi: Aniq yosh (masalan 5 yosh) shart emas, mezon - "Tamyiz" (farqlash va tushunish).`
                }
            ]
        },
        {
            chapter: "ROVIYLAR SHARTLARI: 2. ISLOM",
            topics: [
                {
                    id: "6_1",
                    title: "Islom sharti",
                    text: `Roviy musulmon bo'lishi shart. Kofirning rivoyati qabul qilinmaydi.
Sababi: Kufr rostlikka zid emas, lekin kofirda Islom diniga "dushmanlik gumoni" bor.

Bu shart ham faqat "Ado etish" vaqtida kerak.
Dalil: Jubayr ibn Mut'im (r.a) kofir holida Rasulullohning "Tur" surasini o'qiganlarini eshitgan, keyin musulmon bo'lib rivoyat qilgan va bu qabul qilingan.`
                }
            ]
        },
        {
            chapter: "ROVIYLAR SHARTLARI: 3. ZABT",
            topics: [
                {
                    id: "7_1",
                    title: "Zabt (Aniq saqlash) turlari",
                    text: `Zabt - hadisni eshitib, tushunib, o'zgartirmasdan saqlash.

Hanafiylarda zabt ikki tur:
1. Zohiriy zabt: Lafzini va lug'aviy ma'nosini saqlash.
2. Botiniy zabt (Afzali): Hadisning fiqhiy ma'nosini tushunish (Faqih bo'lish).

Saqlash usuli bo'yicha:
1. Sadr zabti: Xotiradan chiqarib berish (Abu Hanifa yo'li).
2. Kitob zabti: Yozib olib saqlash.

G'aflat: Agar roviyda g'aflat va xato ko'p bo'lsa, rivoyati qabul qilinmaydi. Agar zabt ustun bo'lib, xato kam bo'lsa, kechiriladi.`
                }
            ]
        },
        {
            chapter: "ROVIYLAR SHARTLARI: 4. ADOLAT",
            topics: [
                {
                    id: "8_1",
                    title: "Adolat ta'rifi",
                    text: `Adolat - insonni taqvo va muruwwatni saqlashga undaydigan mustahkam sifat (malaka).

Hadis bobida talab qilingan adolat:
1. Katta gunohlardan tiyilish.
2. Kichik gunohlarda qat'iy turib olmaslik.
3. Muruwwatni (odamgarchilik va urfni) buzadigan ishlarni qilmaslik.`
                },
                {
                    id: "8_2",
                    title: "Yolg'onchi roviy hukmi",
                    text: `Nabiy (s.a.v)ga qasddan yolg'on gapirgan kishi:
Agar keyin tavba qilsa ham, hanafiylarning kuchli qarashiga (Ibn Muborak, Buxoriy) ko'ra, uning rivoyati abadiy qabul qilinmaydi (jazo sifatida).
Imom Navaviy va ba'zi kechki hanafiylar (Ibn Humom) agar tavbasi aniq bo'lsa, qabul qilinadi deganlar.`
                },
                {
                    id: "8_3",
                    title: "Ta'dil va Mubham roviy",
                    text: `1. Adolatli roviyning rivoyat qilishi ta'dilmi?
Hanafiylarda: Agar uch asr (Salaf) davrida bo'lsa, bir olimning ikkinchisidan hadis olishi uni oqlash (ta'dil) hisoblanadi. Undan keyingi davrda hisoblanmaydi.

2. Mubham ta'dil ("Menga ishonchli kishi aytdi"):
Hanafiylarning ko'pchiligi nazarida bu qabul qilinadi (ayniqsa uch asr ichida). Muhaddislar buni qabul qilmaydi.`
                }
            ]
        },
        {
            chapter: "BID'ATCHI VA MAJHUL ROVIYLAR",
            topics: [
                {
                    id: "9_1",
                    title: "Bid'at turlari va Hukmi",
                    text: `Bid'at ikki xil:
1. Kufrga olib boruvchi (masalan, Mujassima): Rivoyati mutlaqo rad etiladi.
2. Fisqqa olib boruvchi (Ahli havo): 
Bu borada 3 xil mazhab bor:
- 1-mazhab (Imom Saraxsiy): Mutlaqo qabul qilinmaydi.
- 2-mazhab (Ibn Humom): Agar yolg'onni halol sanamasa, qabul qilinadi.
- 3-mazhab (Ibn Hajar va kechki ulamolar): Agar o'z bid'atiga da'vat qiluvchi bo'lmasa qabul qilinadi.

Dalil: Imom Buxoriy Imron ibn Hattol (Xorijiy)dan hadis olganlar, chunki u yolg'onchi emas edi.`
                },
                {
                    id: "9_2",
                    title: "Majhul va Mastur (5 qism)",
                    text: `Hanafiylar istilohida "Majhul" - bu 3 asr ichida yashagan, lekin rivoyatlari kam (1-2 ta) bo'lgan roviy. "Mastur" esa 3 asrdan keyingi roviy.

Uch asr majhulining 5 turi va hukmi:
1. Salaf undan rivoyat qilgan va qabul qilgan: Hukmi - Mashhur roviy kabi, qabul qilinadi.
2. Salaf sukut qilgan: Qabul qilinadi.
3. Ixtilof qilingan (Ba'zilar olgan, ba'zilar rad etgan): Qiyosga mos kelsa qabul qilinadi. (Misol: Ma'qil ibn Sinon hadisi).
4. Salaf rad etgan: Rad etiladi (Munkar).
5. Noma'lum (Hech kim bilmagan): Amal qilish vojib emas, lekin qiyosga mos kelsa joiz.`
                }
            ]
        }
    ];

    // ======================================================
