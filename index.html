<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>DO NOT PRESS — MAX</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
:root{
  --bg:#0a0b10;
  --fg:#fff;
  --muted:rgba(255,255,255,.55);
  --danger:#ff3b3b;
}

html,body{
  margin:0;height:100%;
  background:var(--bg);
  color:var(--fg);
  font-family:system-ui;
  overflow:hidden;
}

#wrap{
  position:fixed;inset:0;
  display:grid;place-items:center;
  transition:filter .3s;
}

button{
  width:340px;height:80px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.15);
  background:linear-gradient(180deg,#222,#111);
  color:#fff;
  font-weight:900;
  font-size:16px;
  cursor:pointer;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
  transition:transform .15s,left .2s,top .2s;
  position:absolute;
}

button.angry{
  background:linear-gradient(180deg,#400,#200);
  box-shadow:0 0 40px rgba(255,0,0,.25);
}

#msg{
  position:fixed;
  bottom:24px;
  width:100%;
  text-align:center;
  font-size:13px;
  color:var(--muted);
}

.glitch{
  animation:glitch .12s infinite;
}

@keyframes glitch{
  0%{transform:translate(0)}
  25%{transform:translate(-2px,1px)}
  50%{transform:translate(2px,-1px)}
  75%{transform:translate(-1px,2px)}
  100%{transform:translate(0)}
}
</style>
</head>

<body>
<div id="wrap">
  <button id="btn">НЕ НАЖИМАЙ</button>
</div>
<div id="msg">На странице всего одна кнопка.</div>

<script>
const btn = document.getElementById('btn');
const msg = document.getElementById('msg');

let presses = Number(localStorage.getItem('presses')||0);
let visits  = Number(localStorage.getItem('visits')||0);
visits++; localStorage.setItem('visits',visits);

const lines = [
 "…",
 "Ты уже нажал.",
 "Ты опять нажал.",
 "Тебе не кажется, что это странно?",
 "Я начинаю злиться.",
 "Хватит.",
 "Ты не слушаешь.",
 "Я больше не обязан быть удобным.",
 "Это твой выбор.",
 "Ладно."
];

if(visits>1){
 msg.textContent="Ты вернулся.";
}

center();

btn.onclick=()=>{
 presses++;
 localStorage.setItem('presses',presses);
 react();
};

document.onmousemove=e=>{
 if(presses>=2 && Math.random()<0.03){
   escape();
 }
};

function react(){
 msg.textContent = lines[Math.min(presses,lines.length-1)];
 if(presses>=4) btn.classList.add('angry');
 if(presses>=6) document.body.classList.add('glitch');
 if(presses>=9) resetReality();
}

function escape(){
 const x = Math.random()*(innerWidth-360);
 const y = Math.random()*(innerHeight-100);
 btn.style.left=x+"px";
 btn.style.top=y+"px";
}

function center(){
 btn.style.left=(innerWidth/2-170)+"px";
 btn.style.top=(innerHeight/2-40)+"px";
}

function resetReality(){
 document.body.innerHTML=
 `<div style="
   display:grid;place-items:center;
   height:100%;font-size:18px;
 ">
   Всё. Достаточно.<br><br>
   <small style="opacity:.6">Обнови страницу.</small>
 </div>`;
 localStorage.clear();
}

window.onresize=center;
</script>
</body>
</html>
